# Debugger –≤ Neovim –¥–ª—è Python


## –°–æ–¥–µ–∂—Ä–∞–Ω–∏–µ  
[Glossary](#Glossary)  
[–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?](#–ö–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç?)  
[Debugpy vs JetBrains Debugger](#Debugpy-vs-JetBrains-Debugger)  
[nvim-dap](#nvim-dap)  
[nvim-dap-ui](#nvim-dap-ui)  
[launch.json](#launch.json)  
[–ò—Å—Ç–æ—á–Ω–∏–∫–∏](#–ò—Å—Ç–æ—á–Ω–∏–∫–∏)  


----
## Glossary
**Integrated Development Enviromet (IDE)**  
–≠—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.
IDE –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º.  
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä:

1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (LSP) (nvim-treesitter, nvim-lspconfig, lsp-servers, mason, etc)
2. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (flake8, ruff, etc)
3. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞  (conform, black)
4. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞ (telescope, fzf)
5. –û—Ç–ª–∞–¥–∫–∞ (**nvim-dap**)
6. UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º (nvim-tree, toggleterm.nvim, nvim-notify, noice.nvim)
7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å git (lazygit, gitsigns.nvim)


**Debug Adapter Protocol (DAP)**  
–≠—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É IDE –∏ debugger.
–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω Microsoft –≤ 2016, –¥–æ —ç—Ç–æ–≥–æ –∫–∞–∂–¥–æ–µ IDE –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–æ —Å–≤–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç.  

–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Microsoft –±–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∞–¥–∫–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–≥—Ä–∞—Ü–∏—é —Å DAP:
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞ (breakpoints)  
2. –®–∞–≥ –∑–∞ —à–∞–≥–æ–º (step over/into/out)
3. –ó–∞–ø—É—Å–∫ / –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ / –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–ª–∞–¥–∫–∏
4. –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤


----
## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
–û—Ç–ª–∞–¥—á–∏–∫ —ç—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—à–∞–≥–æ–≤–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–π, –∏ —Å—Ç–µ–∫–æ–º –≤—ã–∑–æ–≤–æ–≤.  
–° –µ–≥–æ –ø–æ–º–æ—â—å—é –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ –º–æ–∂–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –æ—à–∏–±–∫–∏ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–µ–¥–æ—á–µ—Ç—ã –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.

–í –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–ª–∞–¥—á–∏–∫–∞ –¥–ª—è python-–∫–æ–¥–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Neovim –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Debugpy.
VS Code —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Debugpy, –∞ PyCharm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–ª–∞–¥—á–∏–∫ (–±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ DAP) —Å —á—É—Ç—å –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.


----
## Debugpy vs JetBrains Debugger

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å                          | JetBrains Debugger                               | Debugpy (DAP)                                |
|-------------------------------------|--------------------------------------------------|------------------------------------------------|
| üîç –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±—ä–µ–∫—Ç–æ–≤  | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–ª—É–±–æ–∫–æ–≥–æ –∏–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ GUI    | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (UI)            |
| üß† Smart Step / Drop Frame          | –î–∞, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞—Ç—å –ª–∏—à–Ω–∏–π –∫–æ–¥               | –ù–µ—Ç                                            |
| üéØ –ü–µ—Ä–µ—Ö–≤–∞—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π             | –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤–∫–ª—é—á–∞—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ) | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –ø—Ä–æ—â–µ                      |
| üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ñ—Ä–µ–π–º–∞               | –î–∞                                               | –ù–µ—Ç                                            |
| ‚è≥ Async / –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å         | –û—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞                              | –ï—Å—Ç—å, –Ω–æ –±—ã–≤–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã                       |
| üñºÔ∏è –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö         | –ú–æ—â–Ω–∞—è (–≥—Ä–∞—Ñ–∏–∫–∏, DataFrame, JSON –∏ –ø—Ä.)          | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç UI –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, nvim-dap-ui) |
| üß™ –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –æ—Ç–ª–∞–¥–∫–∞ | –î–∞ (—á–µ—Ä–µ–∑ pytest, unittest, GUI)                | –ï—Å—Ç—å, –Ω–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é             |
| üêå –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏                 | –ë—ã—Å—Ç—Ä–∞—è, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ Cython                | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö        |
| ‚öôÔ∏è –ì–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏               | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏           | –°—Ä–µ–¥–Ω—è—è, —á–µ—Ä–µ–∑ `launch.json` –∏–ª–∏ –∫–æ–¥           |
| üíª IDE-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è                  | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ PyCharm –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã JetBrains | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã —Å DAP (VSCode, Neovim) |

**–í –ø–æ–¥–∞–≤–ª—è—é—â–µ–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ Debugpy –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.**


----
## nvim-dap
nvim-dap ‚Äî —ç—Ç–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è Neovim, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É Debug Adapter Protocol (DAP).   
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –≤–Ω–µ—à–Ω–∏–º –æ—Ç–ª–∞–¥—á–∏–∫–∞–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.  

nvim-dap –ø–æ–∑–≤–æ–ª—è–µ—Ç:

    1. –ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
    2. –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ –∏ –ø–æ—à–∞–≥–æ–≤–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ (–≤–∫–ª—é—á–∞—è step into / over / out)
    4. –ò–∑—É—á–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, call stack, watch-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —Ç.–¥.)

nvim-dap –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Lua –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Neovim API –Ω–∞ Lua.
–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –æ—Ç–ª–∞–¥—á–∏–∫–æ–º –ø–æ DAP-–ø—Ä–æ—Ç–æ–∫–æ–ª—É: 

    –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π –æ—Ç–ª–∞–¥—á–∏–∫ (DAP server) –∫–∞–∫ subprocess.
    –û–±—â–∞–µ—Ç—Å—è —Å –Ω–∏–º —á–µ—Ä–µ–∑ STDIO –∏–ª–∏ TCP, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Ç–æ–∫–æ–ª DAP (JSON-—Å–æ–æ–±—â–µ–Ω–∏—è).
    –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Neovim (–≤ –ø–∞–Ω–µ–ª—è—Ö, –ø–ª–∞–≤–∞—é—â–∏—Ö –æ–∫–Ω–∞—Ö –∏ —Ç.–ø.).



nvim-dap —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (Lazy):
**base**
```lua
{
  -- –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–≥–∏–Ω, —Ä–µ–∞–ª–∏–∑—É—é—à–∏–π DAP-client
  "mfussenegger/nvim-dap",
  -- –æ–ø—Ü–∏—è LazyVim –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π 
  -- —Å—Ç—Ä–∞–Ω–Ω–∞—è –æ–ø—Ü–∏—è - –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ neovim –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Lazy
  recommended = true,
  -- –æ–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–∞ (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É, —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–¥ –∫–∞–∂–¥—ã–π —è–∑—ã–∫ –æ—Ç–¥–µ–ª—å–Ω–æ)
  desc = "Debugging support. Requires language specific adapters to be configured. (see lang extras)",

  -- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–ª–∞–≥–∏–Ω–∞
  dependencies = {
    -- –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è DAP
    "rcarriga/nvim-dap-ui",
    -- virtual text for the debugger
    {
       -- –ø–ª–∞–≥–∏–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ
      "theHamsta/nvim-dap-virtual-text",
      opts = {},
    },
  },

  -- stylua: ignore
  -- hotkeys –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–æ–π
  keys = {
    -- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Å–ª–æ–≤–Ω—ã–π breakpoint (—Å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º)
    { "<leader>dB", function() require("dap").set_breakpoint(vim.fn.input('Breakpoint condition: ')) end, desc = "Breakpoint Condition" },
    -- –í–∫–ª—é—á–∏—Ç—å / –≤—ã–∫–ª—é—á–∏—Ç—å –æ–±—ã—á–Ω—ã–π breakpoint
    { "<leader>db", function() require("dap").toggle_breakpoint() end, desc = "Toggle Breakpoint" },
    -- –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
    { "<leader>dc", function() require("dap").continue() end, desc = "Run/Continue" },
    -- –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è `get_args` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≥–¥–µ-—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ)
    { "<leader>da", function() require("dap").continue({ before = get_args }) end, desc = "Run with Args" },
    -- –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–æ –∫—É—Ä—Å–æ—Ä–∞
    { "<leader>dC", function() require("dap").run_to_cursor() end, desc = "Run to Cursor" },
    -- –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ç—Ä–æ–∫–µ (–±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
    { "<leader>dg", function() require("dap").goto_() end, desc = "Go to Line (No Execute)" },
    -- –®–∞–≥ –≤–Ω—É—Ç—Ä—å (step into)
    { "<leader>di", function() require("dap").step_into() end, desc = "Step Into" },
    -- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–Ω–∏–∑ –ø–æ call stack
    { "<leader>dj", function() require("dap").down() end, desc = "Down" },
    -- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–≤–µ—Ä—Ö –ø–æ call stack
    { "<leader>dk", function() require("dap").up() end, desc = "Up" },
    -- –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫
    { "<leader>dl", function() require("dap").run_last() end, desc = "Run Last" },
    -- –®–∞–≥ –Ω–∞—Ä—É–∂—É (step out)
    { "<leader>do", function() require("dap").step_out() end, desc = "Step Out" },
    -- –®–∞–≥ —á–µ—Ä–µ–∑ (step over)
    { "<leader>dO", function() require("dap").step_over() end, desc = "Step Over" },
    -- –ü–æ—Å—Ç–∞–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –ø–∞—É–∑—É
    { "<leader>dP", function() require("dap").pause() end, desc = "Pause" },
    -- –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å REPL (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å)
    { "<leader>dr", function() require("dap").repl.toggle() end, desc = "Toggle REPL" },
    -- –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π —Å–µ—Å—Å–∏–∏
    { "<leader>ds", function() require("dap").session() end, desc = "Session" },
    -- –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é —Å–µ—Å—Å–∏—é
    { "<leader>dt", function() require("dap").terminate() end, desc = "Terminate" },
    -- –û—Ç–∫—Ä—ã—Ç—å –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç.–ø.)
    { "<leader>dw", function() require("dap.ui.widgets").hover() end, desc = "Widgets" },
  },

  config = function()
    -- load mason-nvim-dap here, after all adapters have been setup
    -- –ó–∞–≥—Ä—É–∂–∞–µ–º mason-nvim-dap (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ã DAP
    if LazyVim.has("mason-nvim-dap.nvim") then
      require("mason-nvim-dap").setup(LazyVim.opts("mason-nvim-dap.nvim"))
    end

    -- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å
    vim.api.nvim_set_hl(0, "DapStoppedLine", { default = true, link = "Visual" })

    -- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∫–æ–Ω–æ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π DAP (–Ω–∞–ø—Ä–∏–º–µ—Ä, breakpoint, paused –∏ —Ç.–¥.)
    -- –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è NvChad?

    -- setup dap config by VsCode launch.json file
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —á—Ç–µ–Ω–∏—è launch.json –æ—Ç VSCode
    local vscode = require("dap.ext.vscode")
    local json = require("plenary.json")

    -- DAP —á–∏—Ç–∞–µ—Ç launch.json, —É–±–∏—Ä–∞—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é plenary
    vscode.json_decode = function(str)
      return vim.json.decode(json.json_strip_comments(str))
    end
  end,
}
```

**romz987**
```lua
{
  -- –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–≥–∏–Ω, —Ä–µ–∞–ª–∏–∑—É—é—à–∏–π DAP-client
  "mfussenegger/nvim-dap",
  ft = "python",

  -- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–ª–∞–≥–∏–Ω–∞
  dependencies = {
    -- –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è DAP
    {
        "rcarriga/nvim-dap-ui",
        opts = {},
        keys = require("path/to/nvim-dap-ui-keys").keys,
        dependencies = { "nvim-neotest/nvim-nio" },
        config = function(_, opts)
            require("path/to/config").setup(opts)
        end,
    },
    -- –ø–ª–∞–≥–∏–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ
    {
        "theHamsta/nvim-dap-virtual-text",
        opts = {},
    },
  },
  -- stylua: ignore
  -- hotkeys –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–æ–π
  keys = require("path/to/nvim-dap-keys").keys,

  config = function()
    -- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å
    vim.api.nvim_set_hl(0, "DapStoppedLine", { default = true, link = "Visual" })

    -- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∫–æ–Ω–æ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π DAP (–Ω–∞–ø—Ä–∏–º–µ—Ä, breakpoint, paused –∏ —Ç.–¥.)
    for name, sign in pairs(LazyVim.config.icons.dap) do
      sign = type(sign) == "table" and sign or { sign }
      vim.fn.sign_define(
        "Dap" .. name,
        { text = sign[1], texthl = sign[2] or "DiagnosticInfo", linehl = sign[3], numhl = sign[3] }
      )
    end

    -- setup dap config by VsCode launch.json file
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —á—Ç–µ–Ω–∏—è launch.json –æ—Ç VSCode
    local vscode = require("dap.ext.vscode")
    local json = require("plenary.json")

    -- DAP —á–∏—Ç–∞–µ—Ç launch.json, —É–±–∏—Ä–∞—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é plenary
    vscode.json_decode = function(str)
      return vim.json.decode(json.json_strip_comments(str))
    end
  end,
}
```


----
## nvim-dap-ui 
–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è nvim-dap.  
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:  

    –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    –°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ 
    –ö–æ–Ω—Å–æ–ª—å
    breakpoints
    etc.



----
## launch.json 
launch.json ‚Äî —ç—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª Visual Studio Code, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.  
–§–∞–π–ª launch.json –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ .vscode/ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–ª–∞–¥—á–∏–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "python",            // —Ç–∏–ø –∞–¥–∞–ø—Ç–µ—Ä–∞ –æ—Ç–ª–∞–¥–∫–∏ (—è–∑—ã–∫)
      "request": "launch",         // —Ç–∏–ø –∑–∞–ø—É—Å–∫–∞: launch –∏–ª–∏ attach
      "name": "Run Python Script", // –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
      "program": "${file}",        // —á—Ç–æ –∑–∞–ø—É—Å–∫–∞—Ç—å (—Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª)
      "console": "integratedTerminal"
    }
  ]
}
```
–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

    –ó–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –æ—Ç–ª–∞–¥–∫–æ–π –ø—Ä—è–º–æ –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

    –£–∫–∞–∑–∞–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã, –ø—É—Ç–µ–π –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–∞–º

    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

    –ù–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞ –∏ –∞–¥–∞–ø—Ç–µ—Ä–∞

–ü–ª–∞–≥–∏–Ω nvim-dap –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á—Ç–µ–Ω–∏–µ launch.json, —á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–ª–∞–¥–∫–∏, —á—Ç–æ –∏ –≤ VS Code.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

    –ù–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é

    –°–æ–≤–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ–µ–∫—Ç –º–µ–∂–¥—É VS Code –∏ Neovim

    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏


----
## –ò—Å—Ç–æ—á–Ω–∏–∫–∏
–ü–ª–∞–≥–∏–Ω—ã  
1. [nvim-dap](#https://github.com/mfussenegger/nvim-dap)  
2. [nvim-dap-ui](#https://github.com/rcarriga/nvim-dap-ui)  
3. [nvim-dap-virtual-text](#https://github.com/theHamsta/nvim-dap-virtual-text)  
4. [nvim-neotest/nvim-nio](#https://github.com/nvim-neotest/nvim-nio)  
5. [mfussenegger/nvim-dap-python](#https://github.com/mfussenegger/nvim-dap-python)  
6. [debugpy](#https://github.com/microsoft/debugpy)  

–û—Å—Ç–∞–ª—å–Ω–æ–µ  
1. [A Guide to Debugging Code in Neovim](#https://tamerlan.dev/a-guide-to-debugging-applications-in-neovim/)  
2. [nvim-dap github page](#https://github.com/mfussenegger/nvim-dap)  
3. [LazyVim: DAP Core nvim-dap full specification](#https://www.lazyvim.org/extras/dap/core)  
4. [lazy.nvim plug specification](#https://lazy.folke.io/spec)  
5. [Wikipedia: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D1%80%D0%B5%D0%B4%D0%B0_%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8)
